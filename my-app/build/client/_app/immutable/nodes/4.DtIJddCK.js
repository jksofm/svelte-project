import"../chunks/disclose-version.Bg9kRutz.js";import{p as ce,a as me,u as b,D as r,aw as fe,c as a,s as i,r as l,t as ve,n as ue,m as x}from"../chunks/runtime.BHQ3mifw.js";import{e as V,s as be}from"../chunks/render.CgGeDR3F.js";import{o as xe,i as ge}from"../chunks/index-client.DL7_V8Jg.js";import{e as ye,r as p,i as he}from"../chunks/attributes.XuwAwxKS.js";import{a as X,t as ee}from"../chunks/template.BB6DrY9z.js";import{b as c,L as we}from"../chunks/Loading.CcZk9JEX.js";import{s as _e,b as m,a as Y,i as ke}from"../chunks/store.Dmb9GBCp.js";import{w as De}from"../chunks/index.eMn303K4.js";import{d as P,g as Ee,a as Z}from"../chunks/app.api.Bf5FEtBL.js";import"../chunks/legacy.CtaTdtmd.js";var Le=ee('<div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield"> </label></div> <div class="md:w-[600px]"><input placeholder="Ex: https://example.com" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" type="text"></div></div>'),Ne=ee('<div class="bg-gray-100"><div class="py-12 px-16 text-center container"><form class="!w-auto relative inline-block p-8 mt-6 lg:mt-0 rounded-xl shadow bg-white"><!> <h2 class="font-sans font-bold break-normal text-gray-700 pb-8 text-xl">Information</h2> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">Email :</label></div> <div class="md:w-[600px]"><input placeholder="info@example.com" type="email" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield"></div></div> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">Address :</label></div> <div class="md:w-[600px]"><input placeholder="Ex: 55 Main Street, 2nd block, Malborne ,Australia" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" type="text"></div></div> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">Phone Number Display :</label></div> <div class="md:w-[600px]"><input placeholder="Ex: +236 (456) 896 22" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" type="text"></div></div> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">Phone Number :</label></div> <div class="md:w-[600px]"><input placeholder="Ex: +23645689622" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" type="text"></div></div> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">Logo URL :</label></div> <div class="md:w-[600px] flex gap-2 items-center"><input placeholder="Ex: +23645689622" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" disabled type="text"> <label for="logo-upload" class="cursor-pointer relative inline-block px-4 py-2 font-medium group"><span class="absolute inset-0 w-full h-full transition duration-200 ease-out transform translate-x-1 translate-y-1 bg-black group-hover:-translate-x-0 group-hover:-translate-y-0"></span> <span class="absolute inset-0 w-full h-full bg-white border-2 border-black group-hover:bg-black"></span> <span class="relative text-black group-hover:text-white">Upload</span></label> <input class="p-2 rounded-md hidden svelte-13fc07g" type="file" id="logo-upload" accept="image/*"></div></div> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">Working Days:</label></div> <div class="md:w-[600px]"><input placeholder="Ex: +23645689622" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" type="text"></div></div> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">Start Time:</label></div> <div class="md:w-[600px]"><input placeholder="Ex: 9.30 am" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" type="text"></div></div> <div class="md:flex mb-6 items-center"><div class="md:w-[220px]"><label class="block text-gray-600 font-bold md:text-left pr-4" for="my-textfield">End Time:</label></div> <div class="md:w-[600px]"><input placeholder="Ex: 6.30 pm" class="w-full p-2 rounded-md svelte-13fc07g" id="my-textfield" type="text"></div></div> <!> <button type="submit" class="mt-4 relative inline-flex items-center justify-center p-4 px-6 py-3 overflow-hidden font-medium text-indigo-600 transition duration-300 ease-out border-2 border-purple-500 rounded-full shadow-md group"><span class="absolute inset-0 flex items-center justify-center w-full h-full text-white duration-300 -translate-x-full bg-purple-500 group-hover:translate-x-0 ease"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg></span> <span class="absolute flex items-center justify-center w-full h-full text-purple-500 transition-all duration-300 transform group-hover:translate-x-full ease">Save</span> <span class="relative invisible">Save</span></button></form></div></div>');function Ue(te,ae){ce(ae,!0);const g=_e(),e=()=>Y(o,"$formData",g),le=()=>Y(Ee,"$globalLoading",g);let f=fe(!1);const o=De({email:"",address:"",phoneNumberDisplay:"",phoneNumber:"",logo:"",dateWorking:"",timeStart:"",timeEnd:"",socialLinks:[{label:"Facebook",link:"",iconClass:"fab fa-facebook-f"},{icon:"Twitter",link:"",iconClass:"fab fa-twitter"},{icon:"Printerest",link:"",iconClass:"fab fa-pinterest-p"}]}),se=async t=>{const s=t.target.files[0];if(!s){console.error("No file selected");return}const n=new FormData;n.append("image",s),x(f,!0);try{const d=await fetch("http://localhost:3000/api/upload",{method:"POST",body:n});if(d.ok){const v=await d.json();console.log("File uploaded successfully:",v.filePath);const F=v.filePath;o.update(u=>(u.logo=F,u))}else console.error("File upload failed:",d.statusText)}catch(d){console.error("Error uploading file:",d)}finally{x(f,!1)}},ie=P.subscribe(t=>{}),re=P.subscribe(t=>{const s=t.infoData;s&&o.set({email:s.email||"",address:s.address||"",phoneNumberDisplay:s.phoneNumberDisplay||"",phoneNumber:s.phoneNumber||"",logo:s.logo||"",dateWorking:s.dateWorking||"",timeStart:s.timeStart||"",timeEnd:s.timeEnd||"",socialLinks:s.socialLinks||[]})});xe(()=>{re(),ie()});const oe=async t=>{t.preventDefault();const s=e();x(f,!0);try{if((await Z.updateInfoData(s)).ok){const d=await Z.getData();P.set(d),alert("Data saved successfully.")}else alert("Failed to save data.")}catch(n){console.error("Error:",n),alert("An error occurred while saving data.")}finally{x(f,!1)}};var y=Ne(),W=a(y),h=a(W),j=a(h);ge(j,()=>b(f)||le(),t=>{we(t)});var w=i(j,4),C=i(a(w),2),T=a(C);p(T),l(C),l(w);var _=i(w,2),A=i(a(_),2),M=a(A);p(M),l(A),l(_);var k=i(_,2),I=i(a(k),2),U=a(I);p(U),l(I),l(k);var D=i(k,2),B=i(a(D),2),H=a(B);p(H),l(B),l(D);var E=i(D,2),O=i(a(E),2),L=a(O);p(L);var de=i(L,4);l(O),l(E);var N=i(E,2),R=i(a(N),2),q=a(R);p(q),l(R),l(N);var S=i(N,2),z=i(a(S),2),G=a(z);p(G),l(z),l(S);var $=i(S,2),J=i(a($),2),K=a(J);p(K),l(J),l($);var ne=i($,2);ye(ne,1,()=>e().socialLinks,he,(t,s)=>{var n=Le(),d=a(n),v=a(d),F=a(v);l(v),l(d);var u=i(d,2),Q=a(u);p(Q),l(u),l(n),ve(()=>be(F,`${(b(s).label||b(s).icon)??""} Link:`)),c(Q,()=>b(s).link,pe=>(b(s).link=pe,ke(g,"$formData"))),X(t,n)}),ue(2),l(h),l(W),l(y),c(T,()=>e().email,t=>m(o,r(e).email=t,r(e))),c(M,()=>e().address,t=>m(o,r(e).address=t,r(e))),c(U,()=>e().phoneNumberDisplay,t=>m(o,r(e).phoneNumberDisplay=t,r(e))),c(H,()=>e().phoneNumber,t=>m(o,r(e).phoneNumber=t,r(e))),c(L,()=>e().logo,t=>m(o,r(e).logo=t,r(e))),V("change",de,se),c(q,()=>e().dateWorking,t=>m(o,r(e).dateWorking=t,r(e))),c(G,()=>e().timeStart,t=>m(o,r(e).timeStart=t,r(e))),c(K,()=>e().timeEnd,t=>m(o,r(e).timeEnd=t,r(e))),V("submit",h,oe),X(te,y),me()}export{Ue as component};
